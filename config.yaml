general:
  output_dir: "output_run"
  num_samples: 100
  base_seed: 12345
  save_images: True

sampling:
  method: "lhs"  # Options: "lhs" (Latin Hypercube Sampling) or "sequential" (fixed params)
  # Method distribution (only applies when method is "lhs")
  grf_fraction: 0.20   # 20% GRF samples
  physics_fraction: 0.80  # 80% physics samples
  
  # Common parameter ranges (applied to both GRF and physics methods)
  porosity_range: [0.20, 0.80]
  voxel_size_um_range: [0.08, 0.15]

structure:
  method: "physics"  # Options: "GRF" or "physics"
  
  # Common settings (used when method is "sequential" or as defaults)
  volume_shape: [64, 64, 64]
  voxel_size_um: 0.1
  target_porosity: 0.40
  
  # GRF specific parameters
  grf:
    psd_power: 2.0
    anisotropy: [1.0, 1.0, 1.0]
    # Parameter ranges for LHS sampling
    psd_power_range: [0.8, 2.2]
    anisotropy_x_range: [0.7, 1.3]
    anisotropy_y_range: [0.7, 1.3]
    anisotropy_z_range: [0.7, 1.3]
  
  # Physics/FiPy specific parameters
  physics:
    # Default values (used when sampling method is "sequential")
    drying_intensity: 0.5        # Controls binder migration strength (0.0 to 1.0)
    time_steps: 20               # Number of PDE time steps
    dt: 0.1                      # Time step size
    velocity_scale: 0.6          # Convection velocity magnitude
    diff_pore: 1.0               # Diffusivity in pore
    diff_solid: 0.1              # Diffusivity in solid
    evap_strength: 5.0           # Evaporation profile strength (higher = more concentrated at top)
    redeposition_factor: 0.08    # Fraction of evaporated material redeposited at top
    top_mask_zmin: 0.80          # Z-position threshold for top region (0.0-1.0)
    
    # Parameter ranges for LHS sampling
    drying_intensity_range: [0.1, 0.7]
    velocity_scale_range: [0.2, 1.0]
    time_steps_range: [20, 80]
    dt_range: [0.03, 0.10]
    diff_pore_range: [0.5, 1.5]
    diff_solid_range: [0.05, 0.30]
    evap_strength_range: [4.0, 8.0]
    redeposition_factor_range: [0.03, 0.12]
    top_mask_zmin_range: [0.70, 0.85]

transport:
  tortuosity_method: "random-walk"
  bruggeman_from_tau: true
  min_epsilon: 0.25
  max_epsilon: 0.65

simulation:
  model: "DFN"
  component: "separator"       # Options: separator, positive, negative
  cycles: 50
  
  # Thermal settings
  thermal: "isothermal"
  temperature_K: 298.15
  
  # Geometry / Component Specs
  separator_thickness_m: 15.0e-6
  separator_porosity: 0.40
  cc_thickness_neg_m: 10.0e-6
  cc_thickness_pos_m: 15.0e-6
  electrode_thickness_m: 60.0e-6
  
  # The protocol steps
  experiment:
    - "Discharge at 1C for 60 minutes"
    - "Rest for 15 minutes"
    - "Charge at 1C until 4.1 V"
    - "Hold at 4.1 V until 0.1 C"
    - "Rest for 15 minutes"
